push 1
push 2
push 3
push 4
push 5
push 6
push 7
push 8

alias stack_end r15
move stack_end sp

loop:
move sp 2
jal remove_stack

yield
j loop


remove_stack:
brle sp stack_end 4
sub stack_end stack_end 1
move sp stack_end
j ra

add sp sp 1
peek r0
sub sp sp 2
push r0
add sp sp 1

j remove_stack